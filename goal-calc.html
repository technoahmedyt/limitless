<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Savings Goal Tracker</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  :root {
    --primary: #2563eb;
    --primary-light: #eff6ff;
    --success: #22c55e;
    --success-light: #f0fdf4;
    --text: #1e293b;
    --text-light: #64748b;
    --bg: #f8fafc;
    --card-bg: #ffffff;
    --border: #e2e8f0;
    --shadow: 0 8px 25px rgba(0,0,0,0.08);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
  }
  .app {
    max-width: 1000px;
    margin: auto;
    padding: 32px 16px;
  }
  h1 {
    text-align: center;
    font-size: 36px;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 40px;
    letter-spacing: -0.5px;
  }
  h2 {
    font-size: 24px;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 24px;
    text-align: left;
  }
  .card {
    background: var(--card-bg);
    border-radius: 20px;
    padding: 32px;
    margin-bottom: 32px;
    box-shadow: var(--shadow);
    border: 1px solid var(--border);
  }
  .create-goal-form {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
  }
  @media (min-width: 640px) {
    .create-goal-form {
      grid-template-columns: 2fr 2fr 2fr 1fr;
      align-items: end;
    }
  }
  input {
    padding: 16px;
    border-radius: 14px;
    border: 2px solid var(--border);
    font-size: 16px;
    transition: all 0.2s ease;
  }
  input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 5px rgba(37,99,235,0.12);
  }
  button {
    padding: 16px;
    background: var(--primary);
    color: white;
    border: none;
    border-radius: 14px;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #1d4ed8;
  }
  .dashboard {
    display: grid;
    grid-template-columns: 1fr;
    gap: 32px;
  }
  @media (min-width: 768px) {
    .dashboard { grid-template-columns: 1fr 2fr; }
  }
  .goal-item {
    background: var(--primary-light);
    padding: 20px;
    border-radius: 16px;
    margin-bottom: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 1px solid var(--border);
  }
  .goal-item:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow);
    background: #dbeafe;
  }
  .goal-item strong {
    font-size: 19px;
    display: block;
    margin-bottom: 8px;
  }
  .chart-container {
    position: relative;
    height: 360px;
    margin: 40px 0;
    background: var(--primary-light);
    border-radius: 16px;
    padding: 20px;
    overflow: hidden;
  }
  @media (max-width: 768px) {
    .chart-container { height: 300px; }
  }
  /* Vertical Daily Contributions */
  .day-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
    max-height: 600px;
    overflow-y: auto;
    padding-right: 8px;
  }
  .day-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 16px;
    padding: 18px 20px;
    background: var(--primary-light);
    border-radius: 16px;
    transition: all 0.3s ease;
    border: 1px solid var(--border);
  }
  .day-row:hover {
    background: #dbeafe;
    transform: translateX(4px);
  }
  .day-row.checked {
    background: var(--success-light);
    border-color: var(--success);
  }
  .day-row.checked:hover {
    background: #dcfce7;
  }
  .day-row .date {
    font-weight: 600;
    font-size: 16px;
    min-width: 140px;
  }
  .day-row input {
    width: 120px;
    padding: 10px 12px;
    border-radius: 12px;
    border: 2px solid var(--border);
    text-align: right;
    font-size: 16px;
    transition: all 0.2s;
  }
  .day-row input:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 4px rgba(37,99,235,0.1);
  }
  .day-row.checked input {
    background: rgba(34,197,94,0.15);
    border-color: var(--success);
    color: var(--success);
  }
  @media (max-width: 480px) {
    .day-row {
      flex-direction: column;
      align-items: stretch;
      gap: 12px;
    }
    .day-row .date { min-width: auto; }
    .day-row input { width: 100%; text-align: center; }
  }
</style>
</head>
<body>
<div class="app">
<h1>ðŸ’° Savings Goal Tracker</h1>
<div class="card">
<h2>Create New Goal</h2>
<div class="create-goal-form">
<input id="goalName" placeholder="Goal name">
<input id="goalAmount" type="number" step="0.01" placeholder="Target amount">
<input id="goalDate" type="date">
<button onclick="addGoal()">Create</button>
</div>
</div>
<div class="dashboard">
<div class="card">
<h2>My Goals</h2>
<div id="goalList"></div>
</div>
<div class="card" id="goalDetails">
<p style="text-align:center;color:#64748b;padding:60px 0;font-size:18px;">Select a goal to view details</p>
</div>
</div>
</div>
<script>
let goals = JSON.parse(localStorage.getItem('savings_goals') || '[]');
let activeGoal = null;
let chart = null;
function save(){ localStorage.setItem('savings_goals', JSON.stringify(goals)); }
function addGoal(){
  const name = document.getElementById('goalName').value.trim();
  const amount = parseFloat(document.getElementById('goalAmount').value);
  const date = document.getElementById('goalDate').value;
  if(!name || !amount || !date) return alert("Fill all fields");
  const today = new Date();
  const target = new Date(date);
  if(target < today) return alert("Target date must be future");
  const days = Math.ceil((target - today)/86400000)+1;
  goals.push({
    id: Date.now(),
    name,
    targetAmount: amount,
    targetDate: date,
    startDate: today.toISOString().slice(0,10),
    dailyTarget: (amount/days).toFixed(2),
    days: {}
  });
  save();
  renderGoalList();
}
function renderGoalList(){
  const list = document.getElementById('goalList');
  list.innerHTML='';
  if(!goals.length){
    list.innerHTML='<p style="text-align:center;color:#64748b;padding:40px 0;">No goals yet</p>';
    return;
  }
  goals.forEach(g=>{
    const div=document.createElement('div');
    div.className='goal-item';
    div.innerHTML=`<strong>${g.name}</strong><br>â‚¹${calcSaved(g).toFixed(2)} / â‚¹${g.targetAmount}`;
    div.onclick=()=>selectGoal(g);
    list.appendChild(div);
  });
}
function calcSaved(g){
  return Object.values(g.days).reduce((s,d)=>d.checked?s+Number(d.amount):s,0);
}
function selectGoal(g){
  activeGoal=g;
  renderGoal();
}
function renderGoal(){
  const g=activeGoal;
  let labels=[],data=[],total=0;
  for(let d=new Date(g.startDate); d<=new Date(g.targetDate); d.setDate(d.getDate()+1)){
    const key=d.toISOString().slice(0,10);
    if(g.days[key]?.checked) total+=Number(g.days[key].amount);
    labels.push(d.getDate());
    data.push(total);
  }
  document.getElementById('goalDetails').innerHTML=`
    <h2>${g.name}</h2>
    <p style="font-size:18px;margin:16px 0;">Saved â‚¹${total.toFixed(2)} / â‚¹${g.targetAmount}</p>
    <div class="chart-container"><canvas id="chart"></canvas></div>
    <h3 style="font-size:22px;margin:40px 0 20px;">Daily Variable Contributions</h3>
    <div class="day-list">${renderDays(g)}</div>
  `;
  if(chart) chart.destroy();
  chart=new Chart(document.getElementById('chart'),{
    type:'line',
    data:{labels,datasets:[{
      data,
      borderColor:'#22c55e',
      backgroundColor:'rgba(34,197,94,.15)',
      fill:true,
      tension:.4,
      pointRadius: 4
    }]},
    options:{
      responsive:true,
      maintainAspectRatio:false,
      plugins:{legend:{display:false}},
      scales:{
        y:{beginAtZero:true,ticks:{font:{size:14}}},
        x:{ticks:{font:{size:14}}}
      }
    }
  });
}
function renderDays(g){
  let html='';
  for(let d=new Date(g.startDate); d<=new Date(g.targetDate); d.setDate(d.getDate()+1)){
    const key=d.toISOString().slice(0,10);
    const day=g.days[key]||{amount:g.dailyTarget,checked:false};
    const dateStr = d.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
    html+=`
      <div class="day-row ${day.checked?'checked':''}" onclick="toggleDay('${key}')">
        <div class="date">${dateStr}</div>
        <input type="number" value="${day.amount}" step="0.01" min="0" onclick="event.stopPropagation()"
               onchange="setAmount('${key}',this.value)">
      </div>`;
  }
  return html;
}
function toggleDay(k){
  const d=activeGoal.days[k]||{amount:activeGoal.dailyTarget};
  d.checked=!d.checked;
  activeGoal.days[k]=d;
  save(); renderGoal(); renderGoalList();
}
function setAmount(k,v){
  const d=activeGoal.days[k]||{};
  d.amount=Number(v)||activeGoal.dailyTarget;
  activeGoal.days[k]=d;
  save(); renderGoal(); renderGoalList();
}
renderGoalList();
</script>
</body>
</html>
